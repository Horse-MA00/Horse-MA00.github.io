<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width">
  <link rel="stylesheet" href="/css/main.css">
  <style>
    .study-form {margin-bottom: 1em;}
    .study-form textarea {width: 100%; height: 4em; margin-top: 0.5em;}
    #study-list li {margin-bottom: 0.5em; list-style: none; background: var(--card-bg-color); padding: 0.5em; border-radius: 4px;}
    #study-list button {margin-left: 1em;}
  </style>
  <title>Study Log</title>
</head>
<body>
  <h1>Study Log</h1>
  <div class="study-form">
    <input type="date" id="study-date">
    <textarea id="study-text" placeholder="What did you study today?"></textarea>
    <button id="add-study">Add Entry</button>
  </div>
  <ul id="study-list"></ul>

<script>
(function() {
  const dateInput = document.getElementById('study-date');
  const textInput = document.getElementById('study-text');
  const list = document.getElementById('study-list');
  const storageKey = 'studyEntries';
  function load() {
    const data = JSON.parse(localStorage.getItem(storageKey) || '[]');
    list.innerHTML = '';
    data.forEach((item, idx) => {
      const li = document.createElement('li');
      li.textContent = `${item.date}: ${item.text}`;
      const del = document.createElement('button');
      del.textContent = 'Delete';
      del.onclick = () => {
        data.splice(idx, 1);
        localStorage.setItem(storageKey, JSON.stringify(data));
        load();
      };
      li.appendChild(del);
      list.appendChild(li);
    });
  }
  document.getElementById('add-study').onclick = () => {
    const date = dateInput.value || new Date().toISOString().slice(0,10);
    const text = textInput.value.trim();
    if (!text) return;
    const data = JSON.parse(localStorage.getItem(storageKey) || '[]');
    data.push({date, text});
    localStorage.setItem(storageKey, JSON.stringify(data));
    textInput.value = '';
    load();
  };
  dateInput.value = new Date().toISOString().slice(0,10);
  load();
})();
</script>
</body>
</html>
